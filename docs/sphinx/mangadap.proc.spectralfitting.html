

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mangadap.proc.spectralfitting module &mdash; mangadap 2.2.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="mangadap 2.2.2 documentation" href="index.html"/>
        <link rel="up" title="mangadap.proc package" href="mangadap.proc.html"/>
        <link rel="next" title="mangadap.proc.spectralindices module" href="mangadap.proc.spectralindices.html"/>
        <link rel="prev" title="mangadap.proc.spatiallybinnedspectra module" href="mangadap.proc.spatiallybinnedspectra.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mangadap
          

          
          </a>

          
            
            
              <div class="version">
                2.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="mangadap.html">mangadap package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mangadap.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mangadap.config.html">mangadap.config package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mangadap.contrib.html">mangadap.contrib package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mangadap.par.html">mangadap.par package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="mangadap.proc.html">mangadap.proc package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="mangadap.proc.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mangadap.proc.html#module-mangadap.proc">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mangadap.survey.html">mangadap.survey package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mangadap.test.html">mangadap.test package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mangadap.util.html">mangadap.util package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mangadap.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mangadap.html#module-mangadap">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mangadap</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="mangadap.html">mangadap package</a> &raquo;</li>
        
          <li><a href="mangadap.proc.html">mangadap.proc package</a> &raquo;</li>
        
      <li>mangadap.proc.spectralfitting module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/mangadap.proc.spectralfitting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mangadap.proc.spectralfitting">
<span id="mangadap-proc-spectralfitting-module"></span><h1>mangadap.proc.spectralfitting module<a class="headerlink" href="#module-mangadap.proc.spectralfitting" title="Permalink to this headline">¶</a></h1>
<p>Implements a few base classes used during spectral fitting procedures.</p>
<dl class="docutils">
<dt><em>License</em>:</dt>
<dd><dl class="first last docutils">
<dt>Copyright (c) 2015, SDSS-IV/MaNGA Pipeline Group</dt>
<dd>Licensed under BSD 3-clause license - see LICENSE.rst</dd>
</dl>
</dd>
<dt><em>Source location</em>:</dt>
<dd>$MANGADAP_DIR/python/mangadap/proc/spectralfitting.py</dd>
<dt><em>Imports and python version compliance</em>:</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">print_function</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">absolute_import</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span> <span class="o">&gt;</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
    <span class="n">long</span> <span class="o">=</span> <span class="nb">int</span>

<span class="kn">import</span> <span class="nn">numpy</span>
</pre></div>
</div>
</dd>
<dt><em>Class usage examples</em>:</dt>
<dd>Add examples</dd>
<dt><em>Revision history</em>:</dt>
<dd><div class="first last line-block">
<div class="line"><strong>14 Apr 2016</strong>: Implementation begun by K. Westfall (KBW)</div>
<div class="line"><strong>19 Apr 2016</strong>: (KBW) First version</div>
<div class="line"><strong>26 Apr 2016</strong>: (KBW) Moved PPXFFit to a separate file (ppxffit.py)</div>
<div class="line"><strong>03 Nov 2016</strong>: (KBW) Added USETPL column to stellar kinematics
output table.</div>
<div class="line"><strong>25 Oct 2017</strong>: (KBW) Added PLY columns to emission-line database</div>
<div class="line"><strong>02 Feb 2018</strong>: (KBW) Added <code class="xref py py-func docutils literal"><span class="pre">select_binned_spectra_to_fit()</span></code>.</div>
<div class="line"><strong>15 Mar 2018</strong>: (KBW) Equivalenth width now measured at the
velocity of each line if a redshift is not provided.  See
<code class="xref py py-func docutils literal"><span class="pre">measure_equivalent_width()</span></code>.</div>
</div>
</dd>
</dl>
<dl class="class">
<dt id="mangadap.proc.spectralfitting.CompositionFit">
<em class="property">class </em><code class="descclassname">mangadap.proc.spectralfitting.</code><code class="descname">CompositionFit</code><span class="sig-paren">(</span><em>fit_method</em>, <em>bitmask</em>, <em>par=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#CompositionFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.CompositionFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mangadap.proc.spectralfitting.SpectralFitting" title="mangadap.proc.spectralfitting.SpectralFitting"><code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.spectralfitting.SpectralFitting</span></code></a></p>
<p>Base class for fitting the spectral composition.</p>
</dd></dl>

<dl class="class">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit">
<em class="property">class </em><code class="descclassname">mangadap.proc.spectralfitting.</code><code class="descname">EmissionLineFit</code><span class="sig-paren">(</span><em>fit_method</em>, <em>bitmask=None</em>, <em>par=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mangadap.proc.spectralfitting.SpectralFitting" title="mangadap.proc.spectralfitting.SpectralFitting"><code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.spectralfitting.SpectralFitting</span></code></a></p>
<p>Base class for fitting emission lines.</p>
<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit._per_emission_line_dtype">
<em class="property">static </em><code class="descname">_per_emission_line_dtype</code><span class="sig-paren">(</span><em>neml</em>, <em>nkin</em>, <em>mask_dtype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit._per_emission_line_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit._per_emission_line_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the record array data type for the output fits
extension.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.check_and_prep_input">
<em class="property">static </em><code class="descname">check_and_prep_input</code><span class="sig-paren">(</span><em>wave</em>, <em>flux</em>, <em>ivar=None</em>, <em>mask=None</em>, <em>sres=None</em>, <em>continuum=None</em>, <em>redshift=None</em>, <em>dispersion=None</em>, <em>default_dispersion=100.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.check_and_prep_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.check_and_prep_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the input used for emission-line measurements.</p>
<p>inverse variance is converted to 1-sigma error</p>
<p>mask must be a boolean array.</p>
<p>sres can be a single vector, but will be returned as an array
with a size that matches flux.</p>
<p>output all converted to masked arrays with at least two dimensions</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.check_emission_line_database">
<em class="property">static </em><code class="descname">check_emission_line_database</code><span class="sig-paren">(</span><em>emldb</em>, <em>wave=None</em>, <em>check_par=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.check_emission_line_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.check_emission_line_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the emission-line database.  Modes are checked by
<a class="reference internal" href="mangadap.par.emissionlinedb.html#mangadap.par.emissionlinedb.EmissionLinePar" title="mangadap.par.emissionlinedb.EmissionLinePar"><code class="xref py py-class docutils literal"><span class="pre">mangadap.par.emissionlinedb.EmissionLinePar</span></code></a>, and the
indices are checked to be unique by
<a class="reference internal" href="mangadap.par.emissionlinedb.html#mangadap.par.emissionlinedb.EmissionLineDB" title="mangadap.par.emissionlinedb.EmissionLineDB"><code class="xref py py-class docutils literal"><span class="pre">mangadap.par.emissionlinedb.EmissionLineDB</span></code></a>.</p>
<blockquote>
<div><ul class="simple">
<li>The type of the object must be
<a class="reference internal" href="mangadap.par.emissionlinedb.html#mangadap.par.emissionlinedb.EmissionLineDB" title="mangadap.par.emissionlinedb.EmissionLineDB"><code class="xref py py-class docutils literal"><span class="pre">mangadap.par.emissionlinedb.EmissionLineDB</span></code></a></li>
<li>The provided profile type of each line must be a defined
class.</li>
<li>At least one line must have mode=`f`</li>
<li>All tied lines must be tied to a line with a correctly
specified index.</li>
<li>Warnings will be provided for any line with a centroid
that falls outside of the provided wavelength range.</li>
<li>The database must provide at least one valid line.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>(</strong> (<a class="reference internal" href="mangadap.proc.emissionlinetemplates.html#mangadap.proc.emissionlinetemplates.EmissionLineTemplates.emldb" title="mangadap.proc.emissionlinetemplates.EmissionLineTemplates.emldb"><em>emldb</em></a>) – class:<a href="#id1"><span class="problematic" id="id2">`</span></a>mangadap.par.emissionlinedb.EmissionLineDB’):
Emission-line database.</li>
<li><strong>wave</strong> (<em>array-like</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">TypeError</span></code> – Raised if the provided object is not an instance
of <a class="reference internal" href="mangadap.par.emissionlinedb.html#mangadap.par.emissionlinedb.EmissionLineDB" title="mangadap.par.emissionlinedb.EmissionLineDB"><code class="xref py py-class docutils literal"><span class="pre">mangadap.par.emissionlinedb.EmissionLineDB</span></code></a>.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – Raised if any line has a mode of <cite>x</cite> or if the
database does not provide a valid definition for any
templates.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">NameError</span></code> – Raised if a defined profile type is not known.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.get_spectra_to_fit">
<em class="property">static </em><code class="descname">get_spectra_to_fit</code><span class="sig-paren">(</span><em>spectra</em>, <em>pixelmask=None</em>, <em>select=None</em>, <em>error=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.get_spectra_to_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.get_spectra_to_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the spectra to fit during the emission-line fitting.</p>
<dl class="docutils">
<dt>:param spectra (<a class="reference internal" href="mangadap.drpfits.html#mangadap.drpfits.DRPFits" title="mangadap.drpfits.DRPFits"><code class="xref py py-class docutils literal"><span class="pre">mangadap.drpfits.DRPFits</span></code></a>,: <code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.spatiallybinnedspectra.SpatiallBinnedSpectra</span></code>):</dt>
<dd>Object with the spectra to fit.  Can be one of the
provided objects.  This works because both have
<cite>copy_to_masked_array</cite> and <cite>do_not_fit_flags</cite> methods.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pixelmask</strong> – (<a class="reference internal" href="mangadap.util.pixelmask.html#mangadap.util.pixelmask.SpectralPixelMask" title="mangadap.util.pixelmask.SpectralPixelMask"><code class="xref py py-class docutils literal"><span class="pre">mangadap.util.pixelmask.SpectralPixelMask</span></code></a>):
(<strong>Optional</strong>) Pixel mask to apply.</li>
<li><strong>select</strong> (<em>numpy.ndarray</em>) – (<strong>Optional</strong>) Select specific
spectra to return.</li>
<li><strong>error</strong> (<em>bool</em>) – (<strong>Optional</strong>) Return 1-sigma errors instead
of inverse variance.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Two masked arrays: the flux data and
the uncertainties, either as 1-sigma error or the inverse
variance.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ma.MaskedArray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.instrumental_dispersion">
<em class="property">static </em><code class="descname">instrumental_dispersion</code><span class="sig-paren">(</span><em>wave</em>, <em>sres</em>, <em>restwave</em>, <em>cz</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.instrumental_dispersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.instrumental_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the instrumental dispersion for a set of rest
wavelengths and velocities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>wave</strong> (<em>numpy.ndarray</em>) – Vector with the wavelengths of the
spectrum.</li>
<li><strong>sres</strong> (<em>numpy.ndarray</em>) – Vector with the spectral resolution as
a function of wavelength.</li>
<li><strong>restwave</strong> (<em>float</em><em>, </em><em>numpy.ndarray</em>) – Rest wavelengths for a set
of measured lines.</li>
<li><strong>cz</strong> (<em>float</em><em>, </em><em>numpy.ndarray</em>) – Redshifts (in km/s) of each or
all lines.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>The instrumental dispersions for each</dt>
<dd><p class="first last">provided line.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.measure_equivalent_width">
<em class="property">static </em><code class="descname">measure_equivalent_width</code><span class="sig-paren">(</span><em>wave</em>, <em>flux</em>, <em>emission_lines</em>, <em>model_eml_par</em>, <em>mask=None</em>, <em>redshift=None</em>, <em>bitmask=None</em>, <em>checkdb=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.measure_equivalent_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.measure_equivalent_width" title="Permalink to this definition">¶</a></dt>
<dd><p>The flux array is expected to have size Nspec x Nwave.</p>
<p>Provided previous emission-line fits, this function adds the
equivalent width measurements to the output database.</p>
<p>Errors currently <em>do not</em> include the errors in the continuum
measurement; only the provided error in the flux.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> – Raised if the length of the spectra, errors, or
mask does not match the length of the wavelength array;
raised if the wavelength, redshift, or dispersion arrays
are not 1D vectors; and raised if the number of
redshifts or dispersions is not a single value or the
same as the number of input spectra.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.select_binned_spectra_to_fit">
<em class="property">static </em><code class="descname">select_binned_spectra_to_fit</code><span class="sig-paren">(</span><em>binned_spectra</em>, <em>minimum_snr=0.0</em>, <em>stellar_continuum=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.select_binned_spectra_to_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.select_binned_spectra_to_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Select binned spectra for which to fit emission lines.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">This could be based on the moment assessment of the
emission-line S/N instead; for now just based on continuum
S/N.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>binned_spectra</strong> – (<a class="reference internal" href="mangadap.proc.spatiallybinnedspectra.html#mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra" title="mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra"><code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra</span></code></a>):
Binned spectra to be fit.</li>
<li><strong>minimum_snr</strong> (<em>float</em>) – The minimum S/N of the binned spectrum
to fit; see
<a class="reference internal" href="mangadap.proc.spatiallybinnedspectra.html#mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra.above_snr_limit" title="mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra.above_snr_limit"><code class="xref py py-func docutils literal"><span class="pre">mangadap.proc.spatiallybinnedspectra.SpatiallyBinnedSpectra.above_snr_limit()</span></code></a>.</li>
<li><strong>stellar_continuum</strong> – (<a class="reference internal" href="mangadap.proc.stellarcontinuummodel.html#mangadap.proc.stellarcontinuummodel.StellarContinuumModel" title="mangadap.proc.stellarcontinuummodel.StellarContinuumModel"><code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.stellarcontinuummodel.StellarContinuumModel</span></code></a>):
(<strong>Optional</strong>) Stellar-continuum models that have been
fit to the binned spectra, if available.  The current
function will only return True for spectra that are both
above the S/N limit and have good stellar-continuum
models.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Boolean vector with the spectra in the
binned_spectra object to fit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.EmissionLineFit.subtract_continuum">
<em class="property">static </em><code class="descname">subtract_continuum</code><span class="sig-paren">(</span><em>flux</em>, <em>continuum</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#EmissionLineFit.subtract_continuum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.EmissionLineFit.subtract_continuum" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract the continuum.  Does not check that shapes match.
Returns the continuum subtracted flux and a boolean array
setting where the continuum is not defined.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mangadap.proc.spectralfitting.SpectralFitting">
<em class="property">class </em><code class="descclassname">mangadap.proc.spectralfitting.</code><code class="descname">SpectralFitting</code><span class="sig-paren">(</span><em>fit_type</em>, <em>bitmask=None</em>, <em>par=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#SpectralFitting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.SpectralFitting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Base class for spectral fitting.</p>
</dd></dl>

<dl class="class">
<dt id="mangadap.proc.spectralfitting.StellarKinematicsFit">
<em class="property">class </em><code class="descclassname">mangadap.proc.spectralfitting.</code><code class="descname">StellarKinematicsFit</code><span class="sig-paren">(</span><em>fit_method</em>, <em>bitmask</em>, <em>par=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#StellarKinematicsFit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.StellarKinematicsFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mangadap.proc.spectralfitting.SpectralFitting" title="mangadap.proc.spectralfitting.SpectralFitting"><code class="xref py py-class docutils literal"><span class="pre">mangadap.proc.spectralfitting.SpectralFitting</span></code></a></p>
<p>Base class for fitting stellar kinematics.</p>
<dl class="staticmethod">
<dt id="mangadap.proc.spectralfitting.StellarKinematicsFit._per_stellar_kinematics_dtype">
<em class="property">static </em><code class="descname">_per_stellar_kinematics_dtype</code><span class="sig-paren">(</span><em>ntpl</em>, <em>nadd</em>, <em>nmult</em>, <em>nkin</em>, <em>mask_dtype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mangadap/proc/spectralfitting.html#StellarKinematicsFit._per_stellar_kinematics_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mangadap.proc.spectralfitting.StellarKinematicsFit._per_stellar_kinematics_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the record array data type for the output fits
extension.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mangadap.proc.spectralindices.html" class="btn btn-neutral float-right" title="mangadap.proc.spectralindices module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mangadap.proc.spatiallybinnedspectra.html" class="btn btn-neutral" title="mangadap.proc.spatiallybinnedspectra module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, SDSS-IV/MaNGA Pipeline Group.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>